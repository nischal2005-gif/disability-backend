
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="{% static 'images/favicon-32x32.png' %}" sizes="32x32" type="image/png" />
    <link rel="icon" href="{% static 'images/favicon-16x16.png' %}" sizes="16x16" type="image/png" />
    <title>Upcoming & Past Events - Disability Services</title>
    <link rel="stylesheet" href="{% static 'css/events.css' %}" />
    <link rel="stylesheet" href="{% static 'css/index.css' %}" />
</head>

<body>
    <div class="overlay"></div>

    <!-- Header Section -->
    <header class="header">
        <div class="logo">
            <a href="/">
                <h1>Disability Services</h1>
            </a>
        </div>
        <nav>
            <div class="hamburger" id="hamburger">
                <div class="hamburger-wrapper">
                    <div></div>
                    <div></div>
                </div>
            </div>
            <ul id="navLinks">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'aboutus' %}">About Us</a></li>
                <li><a href="{% url 'services' %}">Services</a></li>
                <li><a href="{% url 'getinvolved' %}">Get Involved</a></li>
                <li><a href="{% url 'events' %}">Events</a></li>
                <li><a href="{% url 'contact' %}">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Page Navigation Section -->
    <section class="page-navigation">
        <img src="{% static 'images/reactangle-design2.png' %}" class="page-navigation-bg" alt="" />
        <div class="container">
            <div class="page-navigation-content">
                <p class="page-name">Events Page</p>
                <p class="page-link"><a href="/">Home</a> &gt; Events</p>
            </div>
            <img class="wheelchair" src="{% static 'images/wheelchair-nurse2.png' %}" alt="Nurse" />
        </div>
    </section>

    <!-- Past Events Section -->
    <section class="events">
        <div class="container">
            <div class="section-title">
                <h2>Event Highlights</h2>
            </div>
            <div class="events-wrapper">
                {% for event in past_events %}
                <div class="events-box">
                    <div class="event-number">
                        <p>{{ forloop.counter }}</p>
                    </div>
                    <div>
                        <p class="event-date">{{ event.date|date:"F d, Y @ h:i A" }}</p>
                        <h3 class="event-title">{{ event.title }}</h3>
                        <p class="event-description">{{ event.description }}</p>
                    </div>
                    {% if event.image %}
                    <img class="event-image" src="{{ event.image.url }}" alt="{{ event.title }} Event image" />
                    {% else %}
                    <!-- Optional fallback image -->
                    {% endif %}
                </div>
                {% empty %}
                <p>No past events available.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Upcoming Events Section -->
    <section class="upcoming-events">
        <div class="container">
            <div class="section-title">
                <h2>Upcoming Events</h2>
            </div>

            <div class="upcoming-events-wrapper">
                {% for event in upcoming_events %}
                <div class="upcoming-event">
                    <div class="upcoming-event-date">
                        <p>{{ event.date|date:"d" }}<br /><span>{{ event.date|date:"F" }}</span></p>
                    </div>
                    <div class="upcoming-event-details">
    <h3>{{ event.title }}</h3>
    <p class="event-description-short" id="short-{{ forloop.counter }}">
        {{ event.description|truncatechars:100 }}...
        <a href="javascript:void(0);" onclick="showFullDescription({{ forloop.counter }})">Learn More</a>
    </p>
    <p class="event-description-full" id="full-{{ forloop.counter }}" style="display: none;">
        {{ event.description }}
        <a href="javascript:void(0);" onclick="hideFullDescription({{ forloop.counter }})">Show Less</a>
    </p>
</div>

                </div>
                {% empty %}
                <p>No upcoming events available.</p>
                {% endfor %}
            </div>
        </div>
    </section>
</body>
<script>
    function showFullDescription(id) {
        document.getElementById(`short-${id}`).style.display = 'none';
        document.getElementById(`full-${id}`).style.display = 'block';
    }

    function hideFullDescription(id) {
        document.getElementById(`short-${id}`).style.display = 'block';
        document.getElementById(`full-${id}`).style.display = 'none';
    }
</script>

</html>
